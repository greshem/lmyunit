//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
#ifndef __LmyUnitMDll__
#define __LmyUnitMDll__
//--------------------------------------------------------------------------------------------------------------------------------
//公共头文件
#include "mobject.h"
//................................................................................................................................
#ifdef WINDOWSCODE
//................................................................................................................................
//Windows操作系统
//................................................................................................................................
#else
//................................................................................................................................
//Linux操作系统
#include "dlfcn.h"
//................................................................................................................................
#endif
//--------------------------------------------------------------------------------------------------------------------------------
class MDll : public MObject
{
protected:

#ifdef WINDOWSCODE

	HINSTANCE					m_DllHandle;

#else
	void					*	m_DllHandle;
#endif

public:
	MDll(void);
	virtual ~MDll();
public:
	int  LoadDll(MString DllPath);
	void * GetDllFunction(MString FunctionName);
	void CloseDll(void);

	DECLARE_LMYUNIT(MDll)
};
//--------------------------------------------------------------------------------------------------------------------------------
#endif
//--------------------------------------------------------------------------------------------------------------------------------
